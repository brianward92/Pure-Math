\documentclass[12pt]{article}
\usepackage{amssymb}
\usepackage{amsmath}
\usepackage{natbib}
\usepackage{color}
\usepackage{graphicx}
\usepackage[margin = 0.5in]{geometry}
\usepackage{hyperref}
\usepackage{listings}
\usepackage{float}
\usepackage{rotating}
\usepackage{url}
\usepackage[font=small]{caption}
\usepackage{setspace}
\usepackage{subfigure}
\usepackage[dvipsnames]{xcolor}
\setcounter{MaxMatrixCols}{10}
\setcounter{tocdepth}{1}
\newtheorem{theorem}{Theorem}
\newtheorem{algorithm}{Algorithm} %[theorem]
\newtheorem{corollary}{Corollary}
\newtheorem{definition}{Definition}
\newtheorem{example}{Example}
\newtheorem{exercise}{Exercise}
\newtheorem{lemma}{Lemma}
\newtheorem{proposition}{Proposition}
\newtheorem{remark}{Remark}
\newenvironment{proof}[1][Proof]{\textbf{#1.} }{\ \rule{0.5em}{0.5em}}

%\newtheorem{acknowledgement}[theorem]{Acknowledgement}
%\newtheorem{axiom}[theorem]{Axiom}
%\newtheorem{case}[theorem]{Case}
%\newtheorem{claim}[theorem]{Claim}
%\newtheorem{conclusion}[theorem]{Conclusion}
%\newtheorem{condition}[theorem]{Condition}
%\newtheorem{conjecture}[theorem]{Conjecture}
%\newtheorem{criterion}[theorem]{Criterion}
%\newtheorem{assumption}[theorem]{Assumption}
%\newtheorem{notation}[theorem]{Notation}
%\newtheorem{problem}[theorem]{Problem}
%\newtheorem{solution}[theorem]{Solution}
%\newtheorem{summary}[theorem]{Summary}
	
\def\N{{\mathbb N}}        % positive integers
\def\Q{{\mathbb Q}}        % rationals
\def\Z{{\mathbb Z}}        % integers
\def\R{{\mathbb R}}        % reals
\def\Rn{{\R^{n}}}          % product of n copies of reals
\def\P{{\mathbb P}}        % probability
\def\E{{\mathbb E}}        % expectation
\def\EQ{{\mathbb E}^{\mathbb Q}}        % expectation
\def\1{{\mathbf 1}}        % indicator
\def\F{{\mathcal F}}        % potential measure
\def\G{{\mathcal G}}        % potential measure
\def\ess{\text{ess}}
\def\var{{\mathop{\mathbf Var}}}    %variance
\def\L{{\mathcal L} \,}
\def\Lhat{{\tilde{\mathcal L} \,}}
\def\setZ{{\mathcal Z}}
\def\setA{{\mathcal A}}
\def\setT{{\mathcal T}}
\def\D{{\mathcal D}}
\def\C{{\mathcal C}}
\def\setE{{\mathcal E}}
\def\Vest{{\mathcal V}}
\def\Cvest{{C}}
\def\Cunvest{{\tilde{C}}}

\def\I{{\mathbf I}}
\def\thetahat{{\hat{\theta}}}
\def\taub{{\hat{\tau}}}
\def\xhat{{\hat{x}}}
\def\xbar{{\bar{x}}}
\def\yhat{{\hat{y}}}
\def\x{{\textcolor[rgb]{0.00,0.00,0.00}{\hat{x}}}}
\def\y{{\textcolor[rgb]{0.00,0.00,0.00}{\hat{y}}}}
\def\v{{\hat{v}}}
\def\Xhat{{\hat{X}}}
\def\G{{\tilde{G}}}
\def\H{{\tilde{H}}}
\def\Yhat{{\hat{Y}}}
\def\Vhat{{\hat{V}}}
\def\Mhat{{\hat{M}}}

\lstset{
  language=Python,               % Set language
  basicstyle=\ttfamily\footnotesize, % Use monospaced font
  keywordstyle=\color{blue},      % Keywords in blue
  stringstyle=\color{red},        % Strings in red
  commentstyle=\color{gray},      % Comments in gray
  breaklines=true,                % Allow line breaking
  frame=single                    % Add border around code block
}

%\addtolength{\hoffset}{-1.8cm} \addtolength{\voffset}{-2cm}
%\addtolength{\textheight}{4cm} \addtolength{\textwidth}{3.6cm}

\newcommand{\ward}[1]{\textcolor{blue}{#1}}
\newcommand{\dfdx}{\frac{\partial f}{\partial x}}
\newcommand{\dfdy}{\frac{\partial f}{\partial y}}
\newcommand{\dfdz}{\frac{\partial f}{\partial z}}

\numberwithin{theorem}{section}
\numberwithin{equation}{section}
\numberwithin{remark}{section}
\numberwithin{definition}{section}
\numberwithin{theorem}{section}
\numberwithin{lemma}{section}
\numberwithin{example}{section}



\begin{document}


\title{Solutions Guide to Differential Geometry}
\author{Brian Ward\thanks{Email: {bmw2150@columbia.edu}. Corresponding author. }} 
\maketitle
\abstract{Solutions to the textbook ``Elementary Differential Geometry", Revised Second Edition by Barrett O'Neill.}

\tableofcontents

\newpage

\section{Calculus on Euclidean Space}
\subsection{Euclidean Space}
\begin{enumerate}
	\item{
		\begin{enumerate}
			\item[(a)]{$fg^2=(x^2y)(y\sin(z))^2=x^2y^3\sin^2(z)$}
			\item[(b)]{$\frac{\partial f}{\partial x}g+\frac{\partial g}{\partial y}f=(2xy)(y\sin(z))+\sin(z)(x^2y)=(2xy^2+x^2y)\sin(z)$}
			\item[(c)]{$fg=(x^2y)(y\sin(z))=x^2y^2\sin(z)\implies\frac{\partial (fg)}{\partial z}=x^2y^2\cos(z)\implies\frac{\partial^2 (fg)}{\partial y \partial z}=2x^2y\cos(z)$}
			\item[(d)]{$\frac{\partial}{\partial y}\sin(f)=\cos(f)\frac{\partial f}{\partial y}=\cos(x^2y)\cdot2xy$}
		\end{enumerate}
	}
	\item{
		\begin{enumerate}
			\item[(a)]{$1^2\cdot1-1^2\cdot1=0$}
			\item[(b)]{$3^2\cdot(-1)-(-1)^2\cdot\frac{1}{2}=-9.5$}
			\item[(c)]{$a^2\cdot1-1^2\cdot(1-a)=a^2+a-1$}
			\item[(d)]{$t^2\cdot t^2-(t^2)^2\cdot t^3=t^4-t^7$}
		\end{enumerate}
	}
	\item{
		\begin{enumerate}
			\item[(a)]{$\sin(xy)+x\cos(xy)y-y\sin(xz)z=\sin(xy)+xy\cos(xy)-yz\sin(xz)$}
			\item[(b)]{$\frac{\partial f}{\partial x}=\cos(g)\frac{\partial g}{\partial x}=\cos(e^h)e^h\frac{\partial h}{\partial x}=\cos(e^{x^2+y^2+z^2})e^{x^2+y^2+z^2}2x$}
		\end{enumerate}
	}
	\item{
		With a slight abuse of notation\footnote{The abuse is that when we say for example $\frac{\partial f}{\partial x}$ we really mean ``partial derivative of $f$ with respect to the first component." (And similarly for $\frac{\partial f}{\partial y}$ and $\frac{\partial f}{\partial z}$).}, the chain rule in this case gives us $\frac{\partial f}{\partial x}=\frac{\partial h}{\partial x}\frac{\partial g_1}{\partial x}+\frac{\partial h}{\partial y}\frac{\partial g_2}{\partial x}+\frac{\partial h}{\partial z}\frac{\partial g_3}{\partial x}$. For the given $h$, we can write this as $\frac{\partial f}{\partial x}=2x\frac{\partial g_1}{\partial x}-z\frac{\partial g_2}{\partial x}-y\frac{\partial g_3}{\partial x}.$ We need only compute the the partial derivatives with respect to $x$ of each coordinate function.
		\begin{enumerate}
			\item[(a)]{$\frac{\partial f}{\partial x}=2x\cdot 1-z\cdot 0-y\cdot 1=2x$}
			\item[(b)]{$\frac{\partial f}{\partial x}=2x\cdot 0-ze^{x+y}-ye^x=-ze^{x+y}-ye^x$}
			\item[(c)]{$\frac{\partial f}{\partial x}=2x\cdot 1-z\cdot (-1)-y\cdot 1 = 2x+z-y$}
		\end{enumerate}
	}
\end{enumerate}

\subsection{Tangent Vectors}
\begin{enumerate}
	\item{
		\begin{enumerate}
			\item[(a)]{First, $\textbf{v}_p=-2U_1(\textbf{p})+U_2(\textbf{p})-U_3(\textbf{p})$ and $\textbf{w}_p=U_2(\textbf{p})+3U_3(\textbf{p})$. Therefore, $3\textbf{v}_p-2\textbf{w}_p=-6U_1(\textbf{p})+U_2(\textbf{p})-9U_3(\textbf{p})$.}
			\item[(b)]{Here is a code listing 
				\begin{lstlisting}
import numpy as np

from pure_math import diff_geo

if __name__ == "__main__":
	p = np.array([1,1,0])
	v = np.array([-2, 1, -1])
	w = np.array([0, 1, 3])
	diff_geo.plot_arrows(p, [v, w, -2*v, v+w])
				\end{lstlisting}
			}
			And here is a plot in Figure \ref{fig:01_02_prob_01_b}.
			\begin{figure}[ht]
				\centering
				\includegraphics[width=0.8\textwidth]{fig/sec_01_02_prob_01_b.png}
				\caption{Plot for problem 1, part b in section 1.2.}
  				\label{fig:01_02_prob_01_b}
			\end{figure}

		\end{enumerate}
	}
	\item{$W - xV = 2x^2U_2 - U_3-x\left(xU_1+yU_2\right)=-x^2U_1+(2x^2-xy)U_2-U_3$. At $\textbf{p}=(-1,0,2)$ we have $(W-xV)(\textbf{p})=-U_1(\textbf{p})+2U_2(\textbf{p})-U_3(\textbf{p})$.}
	\item{
		\begin{enumerate}
			\item[(a)]{$V=\frac{2}{7}z^2U_1+0U_2-\frac{1}{7}xyU_3$}
			\item[(b)]{$V=xU_1+(z-x)U_2+0U_3$}
			\item[(c)]{$V=xU_1+2yU_2+xy^2U_3$}
			\item[(d)]{First we have to compute the difference between the points to construct the vector field, then make the standard conversion. In particular, $V(\textbf{p})=(1+p_1,p_2p_3,p_2)-(p_1,p_2,p_3)=(1,p_2(p_3-1),p_3-p_2)$. Thus, $V=1U_1+y(z-1)U_2+(z-y)U_3$.}
			\item[(e)]{As above we have $V(\textbf{p})=(0,1,1)-(p_1,p_2,p_3)=(-p_1,-p_2,-p_3)$. Thus, $V=-xU_1-yU_2-zU_3$.}
		\end{enumerate}
	}
	\item{We do not care about any components of $fV+gW$ outside the $U_1$ term. That is equal to $f(x,y,z)y^2+g(x,y,z)x^2$. Technically, without further restrictions we could just say $f=g=0$. But that would be trivial and I think the question meant to emphasize that the $U_1$ term is 0, but the others are not. In particular, the $U_2$ term would only come from the $fV$ part of $fV+gW$ and the $U_3$ term would only come from the $gW$ part of $fV+gW$. It is clear these are non-zero if $f$ and $g$ are non-zero functions. In particular, $f(x,y,z)=x^2$ and $g(x,y,z)=-y^2$ will suffice to make $f(x,y,z)y^2+g(x,y,z)x^2$ identically 0 without making $f$ and $g$ themselves 0.}
	\item{
		\begin{enumerate}
			\item[(a)]{Suppose $c_1V_1(\textbf{p})+c_2V_2(\textbf{p})+c_3V_3(\textbf{p})=0$. Writing this in standard form, we have $(c_1+c_3x)U_1(\textbf{p})+(c_2)U_2(\textbf{p})+(-c_1x+c_3)U_3(\textbf{p})=0.$ For this to occur, each coefficient must be identically 0\footnote{I.e., the zero function.}. That is, $c_1+c_3x=0$ for all $x$ so that $c_1=c_3=0$ from the $U_1$ constraint. The $U_2$ immediately yields $c_2=0$. For the $U_3$ constraint we also require that $c_1=c_3=0$. Thus, $V_1,V_2,V_3$ are linearly independent.
			
			\qquad If this ``identically 0" business is confusing to you, then recall from the problem we must have $0$ at \emph{every} point $\textbf{p}$ so take $\textbf{p}=(1,0,0)$. Then the vector field at that point is $(c_1+c_3)U_1(\textbf{p})+c_2U_2+(c_3-c_1)U_3(\textbf{p})$. For this to be zero we need to solve $c_1+c_3=0$, $c_2=0$, and $c_3-c_1=0$. The solution is clearly $c_1=c_2=c_3=0$.}
			\item[(b)]{We need to invert the definitions. Observe that $xV_1-V_3=-(x^2+1)U_3$ and $xV_3+V_1=(x^2+1)U_1$. For all $x\in\R$, we know $x^2+1 > 0$. Therefore, $U_3=\frac{-1}{x^2+1}(xV_1-V_3)$ and $U_1=\frac{1}{x^2+1}(V_1+xV_3)$. Trivially we observe $U_2=V_2$.
			
			\qquad Thus, $xU_1+yU_2+zU_3=\left(\frac{x-zx}{x^2+1}\right)V_1+yV_2\left(\frac{x^2+z}{x^2+1}\right)V_3$.
		}
		\end{enumerate}
	}
\end{enumerate}


\subsection{Directional Derivatives}
\begin{enumerate}
	\item{For each, we must compute $g(t):=f(\textbf{p}+t\textbf{v})$, compute the derivative with respect to $t$, and evaluate the resulting expression at $t=0$. In this case $\textbf{v}=(2,-1,3)$ and $\textbf{p}=(2,0,-1)$ so that $\textbf{p}+t\textbf{v}=(2,0,-1)+t(2,-1,3)=(2+2t,-t,-1+3t)$. Thus, we set $x=2+2t$, $y=-t$, and $z=-1+3t$.
		\begin{enumerate}
			\item[(a)]{$f(x,y,z)=y^2z \implies g(t)=f(\textbf{p}+t\textbf{v})=(-t)^2(-1+3t)=t^2(-1+3t)=3t^3-t^2$. Thus, $g'(t)=9t^2-2t$ and $g'(0)=0$.}
			\item[(b)]{$f(x,y,z)=x^7 \implies g(t)=f(\textbf{p}+t\textbf{v})=(2+2t)^7$. Thus, $g'(t)=7(2+2t)^6\cdot 2= 14(2+2t)^6$ and $g'(0)=14\cdot 2^6=896$.}
			\item[(c)]{$f(x,y,z)=e^x\cos(y) \implies g(t)=f(\textbf{p}+t\textbf{v}) = e^{2+2t}\cos(-t)=e^{2+2t}\cos(t).$ Thus, $g'(t)=2e^{2+2t}\cos(t)-e^{2+2t}\sin(t)$ and $g'(0)=2e^{2+2\cdot 0}\cos(0)-e^{2+2\cdot 0}\sin(0)=2e^2$.}
		\end{enumerate}
	}
	\item{For each, we need to compute $\dfdx$, $\dfdy$, and $\dfdz$. Then evaluate at $\textbf{p}=(2,0,-1)$ and compute the inner product with $\textbf{v}=(2,-1,3)$.
		\begin{enumerate}
			\item[(a)]{$\dfdx=0$, $\dfdy=2yz$, and $\dfdz=y^2$. Thus, $\dfdx(\textbf{p})=0$, $\dfdy(\textbf{p})=0$, and $\dfdz(\textbf{p})=0$. We confirm that $2 \cdot 0 + (-1) \cdot 0 + 3 \cdot 0 = 0$.}
			\item[(b)]{$\dfdx=7x^6$, $\dfdy=0$, and $\dfdz=0$. Thus, $\dfdx(\textbf{p})=448$, $\dfdy(\textbf{p})=0$, and $\dfdz(\textbf{p})=0$. We confirm that $2 \cdot 448 + (-1) \cdot 0 + 3 \cdot 0 = 896$.}
			\item[(c)]{$\dfdx=e^x\cos(y)$, $\dfdy=-e^x\sin(y)$, and $\dfdz=0$. Thus, $\dfdx(\textbf{p})=e^2$, $\dfdy(\textbf{p})=0$, and $\dfdz(\textbf{p})=0$. We confirm that $2 \cdot e^2 + (-1) \cdot 0 + 3 \cdot 0 = 2e^2$.}
		\end{enumerate}
	}
	\item{For reference, $V=y^2U_1-xU_3$, $f=xy$, and $g=z^3$.
		\begin{enumerate}
			\item[(a)]{$V[f]=y^2\cdot y - x\cdot 0=y^3$}
			\item[(b)]{$V[g]=y^2\cdot0-x\cdot(3z^2)=-3xz^2$}
			\item[(c)]{$V[fg]=V[f]\cdot g + f\cdot V[g]=y^3\cdot z^3+xy\cdot(-3xz^2)=y^3z^3-3x^2yz^2$}
			\item[(d)]{$fV[g]-gV[f]=V[fg]-2gV[f]=y^3z^3-3x^2yz^2-2\cdot z^3\cdot y^3 = -3x^2yz^2 - z^3\cdot y^3$}
			\item[(e)]{First, $f^2=x^2y^2$ and $g^2=z^6$ so that $f^2+g^2=x^2y^2+z^6$. It follows that $V[f^2+g^2]=y^2\cdot(2xy^2)-x\cdot(6z^5)=2xy^4-6xz^5.$}
			\item[(f)]{$V[V[f]]=y^2\cdot0-x\cdot0=0$}
		\end{enumerate}
	}
	\item{Per the hint, we act $V=\sum v_i U_i$ on $x_j$:
		\begin{align*}
		V[x_j] = \left(\sum v_i U_i\right)[x_j] = \sum v_i U_i[x_j].
		\end{align*}
		This is by part (3) of Corollary 3.4. The remarks at the top of page 14 tell us that $U_i[f]=\frac{\partial f}{\partial x_i}$ so that $U_i[x_j]=\frac{\partial x_j}{\partial x_i}$. This is 0 unless $i=j$, in which case it is 1. We conclude $V[x_j] = v_j$. This means that $V=\sum v_i U_i=\sum V[x_j] U_i,$ as desired.
	}
	\item{Let $Z:=V-W$, then using part (3) of Corollary 3.4 in reverse, we conclude for all $f$, that $Z[f]=(V-W)[f]=0$. Note that this means the vector field $Z$ acting on $f$ yields the zero \emph{function}. If we let $f=x_j$, we have $Z[x_j]=0$. Thus, for every \textbf{p}, we have $Z(\textbf{p})[x_j]=0$. Denote the $i$th component of $Z(\textbf{p})$ by $z_i$, then we have $0=Z(\textbf{p})[x_j]=\sum z_i \frac{\partial x_j}{\partial x_i} = z_j$. Thus, $z_j=0$ for all $j$ so that $Z(\textbf{p})=0$ for all \textbf{p}. That is, $Z=0$ which implies $V-W=0$ or $V=W$.}
\end{enumerate}


\end{document}